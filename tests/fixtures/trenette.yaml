retailer_config:
  name: "Trenette"
  slug: "trenette"
  account_number_prefix: "TRNT"
  loyalty_name: "Trenette"
  welcome_email_from: "potato@potato.com"
  welcome_email_subject: "potatoes"
  profile_config:
    !as_yaml_string
    email:
      required: true
      label: email
    first_name:
      required: true
      label: first_name
    last_name:
      required: true
      label: last_name
  marketing_preference_config:
    !as_yaml_string
    marketing_pref:
      label: Would you like to receive marketing?
      type: boolean

campaign:
  - slug: "trenette-stmp-campaign-1"
    name: "Trenette Stamps Campaign 1"
    status: "ACTIVE"
    loyalty_type: STAMPS
    start_date: 
      !utc_now 
      timedelta: -5
    end_date: null
  - slug: "trenette-acc-campaign-1"
    name: "Trenette Accumulator Campaign 1"
    status: "DRAFT"
    loyalty_type: ACCUMULATOR
    start_date: 
      !utc_now 
      timedelta: -5
    end_date: null
  - slug: "trenette-stmp-campaign-2"
    name: "Trenette Stamps Campaign 2"
    status: "ACTIVE"
    loyalty_type: STAMPS
    start_date: 
      !utc_now 
      timedelta: -5
    end_date: null

earn_rule:
  trenette-stmp-campaign-1:
    - threshold: 500
      increment: 100
      increment_multiplier: 1
  trenette-acc-campaign-1:
    - threshold: 1
      increment_multiplier: 1
  trenette-stmp-campaign-2:
    - threshold: 500
      increment: 100
      increment_multiplier: 1

reward_rule:
  trenette-stmp-campaign-1:
    - reward_goal: 700
      reward_slug: "free-item"
      allocation_window: 0
  trenette-acc-campaign-1:
    - reward_goal: 200
      reward_slug: "10percentoff"
      allocation_window: 1
  trenette-stmp-campaign-2:
    - reward_goal: 700
      reward_slug: "free-item-2"
      allocation_window: 0

reward_config:
  PRE_LOADED:
    - reward_slug: "free-item"
      required_fields_values: "validity_days: 30"
      status: "ACTIVE"
    - reward_slug: "10percentoff"
      required_fields_values: "validity_days: 30"
      status: "ACTIVE"
    - reward_slug: "free-item-2"
      required_fields_values: "validity_days: 30"
      status: "ACTIVE"

retailer_fetch_type:
  PRE_LOADED:
    agent_config: null
